<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø«Ù‚Ø© Ù„Ù„Ø£Ø¯ÙˆØ§Øª | Ù…Ø¹Ø¯Ø§Øª Ù…Ù‡Ù†ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©</title>
    <style>
        /* --- 1. Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© --- */
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap');
        
        :root {
            --bg-color: #0f1419;
            --card-bg: #1a2029;
            --text-main: #f0f4f8;
            --text-secondary: #b8c2cc;
            --accent-color: #f97316;
            --accent-hover: #ea580c;
            --border-color: #2d3748;
            --radius: 12px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Tajawal', sans-serif; background-color: var(--bg-color); color: var(--text-main); padding-bottom: 100px; }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± --- */
        header { 
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); 
            padding: 3rem 1.5rem; text-align: center; margin-bottom: 2rem; 
            border-bottom: 1px solid #333;
        }
        header h1 { font-family: 'IBM Plex Sans Arabic'; font-size: 2.5rem; color: var(--accent-color); margin-bottom: 10px; }
        
        /* --- Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« --- */
        .search-container {
            max-width: 600px;
            margin: 0 auto 3rem auto;
            position: relative;
            display: flex;
            gap: 10px;
            padding: 0 1.5rem;
        }
        
        .search-input {
            width: 100%;
            padding: 15px 20px;
            border-radius: 50px;
            border: 2px solid var(--border-color);
            background: var(--card-bg);
            color: white;
            font-family: 'Tajawal';
            font-size: 1rem;
            outline: none;
            transition: 0.3s;
        }
        
        .search-input:focus { border-color: var(--accent-color); box-shadow: 0 0 15px rgba(249, 115, 22, 0.2); }
        
        .search-btn {
            background: var(--accent-color); color: white; border: none;
            border-radius: 50px; padding: 0 25px; cursor: pointer; font-weight: bold; transition: 0.3s; white-space: nowrap;
        }
        .search-btn:hover { background: var(--accent-hover); transform: scale(1.05); }

        /* --- Ø§Ù„Ø­Ø§ÙˆÙŠØ§Øª ÙˆØ§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
        
        /* Ù‡Ù†Ø§ Ø³Ø± Ø§Ù„ØªØ¬Ø§ÙˆØ¨: auto-fill ÙŠÙ…Ù„Ø£ Ø§Ù„Ø´Ø§Ø´Ø© Ø­Ø³Ø¨ Ø­Ø¬Ù…Ù‡Ø§ */
        .grid-layout { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; }

        .card {
            background: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: var(--radius); overflow: hidden; transition: 0.3s;
            cursor: pointer; display: flex; flex-direction: column;
        }
        .card:hover { transform: translateY(-5px); border-color: var(--accent-color); }
        .card-img { width: 100%; height: 220px; object-fit: cover; }
        .card-body { padding: 1.5rem; display: flex; flex-direction: column; flex-grow: 1; }
        .card-title { font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem; }
        .card-price { color: var(--accent-color); font-weight: bold; font-size: 1.4rem; margin-bottom: 1rem; }
        .card-desc { color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 1.5rem; flex-grow: 1; }

        .btn-add {
            background: var(--accent-color); color: white; border: none; padding: 12px;
            width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: auto; font-size: 1rem;
        }
        .btn-add:hover { background: var(--accent-hover); }

        .btn-back {
            background: #333; color: white; border: none; padding: 10px 20px;
            border-radius: 50px; cursor: pointer; margin-bottom: 20px; display: inline-flex; align-items: center;
        }

        /* --- Ø§Ù„Ø³Ù„Ø© --- */
        .cart-toggle {
            position: fixed; bottom: 30px; right: 30px; background: var(--accent-color);
            width: 60px; height: 60px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center; cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.5); z-index: 999; font-size: 1.5rem; border: none;
        }
        
        .cart-panel {
            position: fixed; bottom: 30px; left: 30px; width: 350px;
            background: #1a2029; border: 1px solid #333; border-radius: 12px;
            padding: 20px; display: none; flex-direction: column; z-index: 1000;
            box-shadow: 0 10px 40px rgba(0,0,0,0.7); max-height: 80vh;
        }

        .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .qty-control { display: flex; align-items: center; gap: 8px; background: #333; padding: 2px 8px; border-radius: 5px; }
        .qty-btn { background: none; border: none; color: white; cursor: pointer; font-weight: bold; font-size: 1.2rem; padding: 0 5px; }
        
        .whatsapp-btn {
            background: #25D366; color: white; border: none; padding: 14px;
            width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px; font-size: 1.1rem;
        }
        
        input { width: 100%; padding: 12px; margin-bottom: 10px; background: #333; border: 1px solid #555; color: white; border-radius: 5px; font-size: 1rem; }

        #product-view { display: none; }

        /* =========================================
           ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ù‡ÙˆØ§ØªÙ (Media Queries)
           ========================================= */
        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            header { padding: 2rem 1rem; }
            
            /* Ø¬Ø¹Ù„ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø£ØµØºØ± Ù‚Ù„ÙŠÙ„Ø§Ù‹ Ù„ØªÙ†Ø§Ø³Ø¨ Ø´Ø§Ø´Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            .grid-layout { 
                gap: 1rem; 
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); /* Ø¹Ø±Ø¶ Ø¹Ù…ÙˆØ¯ÙŠÙ† ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            }
            
            .card-img { height: 160px; }
            .card-body { padding: 1rem; }
            .card-title { font-size: 1rem; }
            .card-price { font-size: 1.1rem; }
            
            /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø³Ù„Ø© Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            .cart-panel {
                width: 90%;
                left: 5%;
                bottom: 20px;
                max-height: 85vh;
            }
            
            .search-container { padding: 0 1rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Ø§Ù„Ø«Ù‚Ø© Ù„Ù„Ø£Ø¯ÙˆØ§Øª</h1>
        <p>Ø®ÙŠØ§Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© - Ø¥Ø±Ø¨Ø¯</p>
    </header>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="handleEnter(event)">
        <button class="search-btn" onclick="searchProducts()">Ø¨Ø­Ø«</button>
    </div>

    <div class="container">
        <div id="category-view" class="grid-layout">
            <div class="card" onclick="openCategory('hand')">
                <img src="https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?w=600" class="card-img">
                <div class="card-body"><div class="card-title">Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙŠØ¯ÙˆÙŠØ©</div></div>
            </div>
            <div class="card" onclick="openCategory('power')">
                <img src="https://images.unsplash.com/photo-1504148455328-c376907d081c?w=600" class="card-img">
                <div class="card-body"><div class="card-title">Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</div></div>
            </div>
            <div class="card" onclick="openCategory('auto')">
                <img src="images/car.png" class="card-img" onerror="this.src='https://images.unsplash.com/photo-1487754180477-065369897d07?w=600'">
                <div class="card-body"><div class="card-title">Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª</div></div>
            </div>
            <div class="card" onclick="openCategory('cone')">
                <img src="images/2.png" class="card-img" onerror="this.src='https://images.unsplash.com/photo-1565439396659-58b45624eb37?w=600'">
                <div class="card-body"><div class="card-title">Ø¹Ø¯Ø© Ù…Ø®Ø§Ø±ÙŠØ·</div></div>
            </div>
            <div class="card" onclick="openCategory('general')">
                <img src="images/global.png" class="card-img" onerror="this.src='https://images.unsplash.com/photo-1581235720704-06d3acfcb36f?w=600'">
                <div class="card-body"><div class="card-title">Ø£Ø¯ÙˆØ§Øª Ø¹Ø§Ù…Ø©</div></div>
            </div>
            <div class="card" onclick="openCategory('offers')">
                <img src="images/offers.png" class="card-img" onerror="this.src='https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=600'">
                <div class="card-body"><div class="card-title" style="color: var(--accent-color);">Ø¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ© ğŸ”¥</div></div>
            </div>
        </div>

        <div id="product-view">
            <button class="btn-back" onclick="goHome()">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù‚Ø³Ø§Ù…</button>
            <h2 id="section-title" style="margin-bottom: 20px; border-bottom: 2px solid var(--accent-color); padding-bottom: 10px; display:inline-block;"></h2>
            <div id="products-grid" class="grid-layout"></div>
        </div>
    </div>

    <button class="cart-toggle" onclick="toggleCart(true)">ğŸ›’</button>

    <div id="cart-ui" class="cart-panel">
        <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
            <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
            <span style="cursor:pointer" onclick="toggleCart(false)">âœ•</span>
        </div>
        
        <div id="cart-items" style="flex-grow:1; overflow-y:auto; margin-bottom:15px;"></div>
        
        <div style="border-top:1px solid #333; padding-top:10px;">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-weight:bold;">
                <span>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹:</span>
                <span id="cart-total" style="color:var(--accent-color)">0.00 Ø¯ÙŠÙ†Ø§Ø±</span>
            </div>
            
            <input type="text" id="c-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ±ÙŠÙ…">
            <input type="text" id="c-address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© - Ø§Ù„Ø­ÙŠ)">
            
            <button class="whatsapp-btn" onclick="checkout()">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
        </div>
    </div>

    <script>
        // ==========================================
        //  Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        // ==========================================
        const products = [
            { id: 1, type: 'hand', price: '85', image: 'https://images.unsplash.com/photo-1586864387967-d02ef85d93e8?w=600', name: 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ÙÙƒØ§Øª', desc: 'Ø·Ù‚Ù… Ø§Ø­ØªØ±Ø§ÙÙŠ' },
            { id: 2, type: 'power', price: '120', image: 'https://images.unsplash.com/photo-1570598912132-0ba1dc952b7d?w=600', name: 'Ø¯Ø±ÙŠÙ„ Ø¨ÙˆØ´', desc: 'Ø£ØµÙ„ÙŠ 1500 ÙˆØ§Ø·' },
            { id: 3, type: 'auto', price: '230', image: 'images/5.png', name: 'Ø¹Ø¯Ø© Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ', desc: 'Ø·Ù‚Ù… ÙƒØ§Ù…Ù„ Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª' },
            { id: 4, type: 'cone', price: '15', image: 'images/6.png', name: 'Ù‚Ù…Ø¹ Ù…Ø±ÙˆØ±ÙŠ', desc: 'Ø¹Ø§ÙƒØ³ Ù„Ù„Ø¶ÙˆØ¡' },
            { id: 5, type: 'offers', price: '99', image: 'images/offers.png', name: 'Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆÙÙŠØ±', desc: 'Ø¯Ø±ÙŠÙ„ + ØµØ§Ø±ÙˆØ®' },
            { id: 6, type: 'general', price: '45', image: 'images/global.png', name: 'ØµÙ†Ø¯ÙˆÙ‚ Ø¹Ø¯Ø©', desc: 'Ø­Ø¯ÙŠØ¯ Ù…Ù‚ÙˆÙ‰' },
              { id: 8, type: 'offers', price: '99999', image: 'images/1.jpeg', name: ' Ù‡ÙƒØ± Ø§Ù„Ø±Ø­Ù…Ø©', desc: '' },    
        ];  

        let cart = [];

        // ==========================================
        //  Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¹Ø±Ø¶
        // ==========================================
        function searchProducts() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            document.getElementById('category-view').style.display = 'none';
            document.getElementById('product-view').style.display = 'block';
            document.getElementById('section-title').innerText = 'Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†: ' + query;

            const results = products.filter(p => p.name.toLowerCase().includes(query));
            const container = document.getElementById('products-grid');
            container.innerHTML = '';

            if (results.length === 0) {
                container.innerHTML = '<p style="text-align:center; width:100%;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù…</p>';
                return;
            }
            results.forEach(p => renderProductCard(p, container));
        }

        function handleEnter(e) { if (e.key === 'Enter') searchProducts(); }

        function openCategory(type) {
            document.getElementById('category-view').style.display = 'none';
            document.getElementById('product-view').style.display = 'block';
            
            const items = products.filter(p => p.type === type);
            const container = document.getElementById('products-grid');
            container.innerHTML = '';
            
            const titles = {'hand': 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙŠØ¯ÙˆÙŠØ©', 'power': 'Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', 'auto': 'Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª', 'cone': 'Ø§Ù„Ù…Ø®Ø§Ø±ÙŠØ·', 'general': 'Ø£Ø¯ÙˆØ§Øª Ø¹Ø§Ù…Ø©', 'offers': 'Ø§Ù„Ø¹Ø±ÙˆØ¶'};
            document.getElementById('section-title').innerText = titles[type] || 'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª';

            if(items.length === 0) {
                container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }
            items.forEach(p => renderProductCard(p, container));
        }

        function renderProductCard(p, container) {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <img src="${p.image}" class="card-img" onerror="this.src='https://via.placeholder.com/300'">
                <div class="card-body">
                    <div class="card-title">${p.name}</div>
                    <div class="card-price">${p.price} Ø¯ÙŠÙ†Ø§Ø±</div>
                    <div class="card-desc">${p.desc}</div>
                    <button class="btn-add" onclick="addToCart(${p.id})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø© +</button>
                </div>
            `;
            container.appendChild(card);
        }

        function goHome() {
            document.getElementById('category-view').style.display = 'grid';
            document.getElementById('product-view').style.display = 'none';
            document.getElementById('searchInput').value = ''; 
        }

        // ==========================================
        //  ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø³Ù„Ø©
        // ==========================================
        function addToCart(id) {
            const product = products.find(p => p.id == id);
            if (!product) return;

            const existing = cart.find(item => item.id == id);
            if (existing) {
                existing.qty++;
            } else {
                cart.push({ ...product, qty: 1 });
            }
            renderCart();
            toggleCart(true);
        }

        function changeQty(id, change) {
            const item = cart.find(i => i.id == id);
            if(item) {
                item.qty += change;
                if(item.qty <= 0) {
                    cart = cart.filter(i => i.id != id);
                }
                renderCart();
            }
        }

        function renderCart() {
            const container = document.getElementById('cart-items');
            container.innerHTML = '';
            let total = 0;

            if(cart.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#777;">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©</p>';
            }

            cart.forEach(item => {
                const itemTotal = item.price * item.qty;
                total += itemTotal;
                
                container.innerHTML += `
                    <div class="cart-item">
                        <div>
                            <div style="font-weight:bold;">${item.name}</div>
                            <div style="font-size:0.8rem; color:#aaa;">${item.price} Ø¯ÙŠÙ†Ø§Ø±</div>
                        </div>
                        <div class="qty-control">
                            <button class="qty-btn" onclick="changeQty(${item.id}, -1)">-</button>
                            <span>${item.qty}</span>
                            <button class="qty-btn" onclick="changeQty(${item.id}, 1)">+</button>
                        </div>
                    </div>
                `;
            });

            document.getElementById('cart-total').innerText = total.toFixed(2) + ' Ø¯ÙŠÙ†Ø§Ø±';
        }

        function toggleCart(show) {
            document.getElementById('cart-ui').style.display = show ? 'flex' : 'none';
        }

        // ==========================================
        //  Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø³Ù†Ø© (Ù…Ø¹ Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯)
        // ==========================================
        function checkout() {
            if(cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");
            
            const name = document.getElementById('c-name').value;
            const address = document.getElementById('c-address').value;
            
            if(!name || !address) return alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¹Ù†ÙˆØ§Ù†");

            let msg = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù…ØªØ¬Ø± Ø§Ù„Ø«Ù‚Ø© Ù„Ù„Ø£Ø¯ÙˆØ§Øª* %0a`;
            msg += `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name} %0a`;
            msg += `ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address} %0a`;
            msg += `-----------------------------%0a`;

            let total = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.qty;
                msg += `ğŸ”¹ [Ø±Ù‚Ù…: ${item.id}] ${item.name} %0a`; 
                msg += `   Ø§Ù„Ø¹Ø¯Ø¯: ${item.qty} | Ø§Ù„Ø³Ø¹Ø±: ${item.price} | Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${itemTotal} Ø¯ÙŠÙ†Ø§Ø±%0a`;
                total += itemTotal;
            });

            msg += `-----------------------------%0a`;
            msg += `ğŸ’° *Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ: ${total} Ø¯ÙŠÙ†Ø§Ø±*%0a`;
            msg += `-----------------------------%0a`;
            msg += `âš ï¸ *Ù…Ù„Ø§Ø­Ø¸Ø©:* Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ØªØ®Ø¶Ø¹ Ù„Ù„ØªØ¯Ù‚ÙŠÙ‚ ÙˆØ§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ù…Ø¹ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± Ù‚Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ù„Ø·Ù„Ø¨.`;
            
            const myPhone = "962785473775";
            
            window.open(`https://wa.me/${myPhone}?text=${msg}`, '_blank');
        }
    </script>

</body>
</html>